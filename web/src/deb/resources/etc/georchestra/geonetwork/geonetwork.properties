# database configuration
jdbc.host=localhost
jdbc.port=5432
jdbc.database=georchestra

jdbc.username=geonetwork
jdbc.password=www-data

# ldap configuration (config-security/config-security-ldap.xml)
ldap.base.provider.url=ldap://localhost:389
ldap.base.dn=dc=georchestra,dc=org
ldap.security.principal=cn=admin,dc=georchestra,dc=org
ldap.security.credentials=secret
ldap.base.dn.pattern=uid={0}

ldap.sync.user.search.base=ou=users
ldap.sync.user.search.filter=(&(objectClass=*)(mail=*@*)(givenName=*))
ldap.sync.user.search.attribute=uid
ldap.privilege.create.nonexisting.groups=true
ldap.privilege.create.nonexisting.users=true
ldap.sync.group.search.base=ou=groups
ldap.sync.group.search.filter=(&(objectClass=groupOfNames)(cn=EL_*))
ldap.sync.group.search.attribute=cn
ldap.sync.group.search.pattern=EL_(.*)

ldap.sync.cron=0 * * * * ?
ldap.sync.startDelay=60000

ldap.privilege.search.group.queryprop=member
ldap.privilege.search.group.query=(&(objectClass=groupOfNames)(member=uid={0},${ldap.base.search.base},${ldap.base.dn})(cn=EL_*))
ldap.privilege.search.group.object=ou=groups
ldap.base.search.base=ou=users
ldap.privilege.search.privilege.pattern=SV_(.*)

# config-security-overrides.properties

# Map user information to LDAP attributes and default values
ldapUserContextMapper.mapping[name]=sn,
ldapUserContextMapper.mapping[surname]=givenName,
ldapUserContextMapper.mapping[mail]=mail,data@myorganization.org
ldapUserContextMapper.mapping[organisation]=o,myorganization
ldapUserContextMapper.mapping[kind]=title,
ldapUserContextMapper.mapping[address]=,
ldapUserContextMapper.mapping[zip]=,
ldapUserContextMapper.mapping[state]=,
ldapUserContextMapper.mapping[city]=,
ldapUserContextMapper.mapping[country]=,
ldapUserContextMapper.mapping[privilege]=,
ldapUserContextMapper.mapping[phone]=telephoneNumber,
ldapUserContextMapper.mapping[profile]=,RegisteredUser

# geOrchestra LDAP profile mapping
ldapUserContextMapper.profileMapping[ADMIN]=Administrator
ldapUserContextMapper.profileMapping[REVIEWER]=Reviewer
ldapUserContextMapper.profileMapping[EDITOR]=Editor
ldapUserContextMapper.profileMapping[USER]=RegisteredUser
ldapUserContextMapper.profileMapping[ANONYMOUS]=Guest

